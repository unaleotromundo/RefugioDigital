<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agente Digital | El Refugio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <script>
        // Configuraci√≥n de Tema (Persistente)
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        function toggleDarkMode() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        }
    </script>

    <style>
        body { background: #fffcf7; font-family: 'Plus Jakarta Sans', sans-serif; transition: 0.5s; }
        .dark body { background: #080a0f; color: white; }
        .chat-container { height: calc(100vh - 250px); scroll-behavior: smooth; }
        .bubble { border-radius: 2rem; padding: 1.2rem 1.5rem; max-width: 85%; animation: slideUp 0.3s ease-out; line-height: 1.6; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #d9770644; border-radius: 10px; }
    </style>
</head>
<body class="overflow-hidden">
    
    <nav class="p-6 flex justify-between items-center max-w-7xl mx-auto">
        <a href="#" class="text-xs font-black uppercase tracking-[0.3em] text-amber-600 flex items-center gap-2">
            <span class="text-xl">‚Üê</span> Salir al Refugio
        </a>
        <button onclick="toggleDarkMode()" class="p-3 rounded-full bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-all">üåô</button>
    </nav>

    <main class="max-w-3xl mx-auto px-6">
        <!-- Contenedor del Chat -->
        <div class="chat-container overflow-y-auto p-4 space-y-6" id="chat-box">
            <div class="bubble bg-amber-500/10 self-start text-slate-700 dark:text-amber-100 italic border border-amber-500/5">
                Hola. Soy tu espejo digital. En este espacio no existen los juicios, solo la comprensi√≥n. ¬øQu√© necesitas soltar o entender hoy?
            </div>
        </div>

        <!-- √Årea de Input -->
        <div class="mt-6 relative group">
            <input type="text" 
                   id="chat-input" 
                   placeholder="Escribe tu sentir aqu√≠..." 
                   class="w-full p-6 pr-20 rounded-full bg-slate-100 dark:bg-slate-900 shadow-2xl border border-amber-500/20 focus:outline-none focus:ring-4 ring-amber-500/10 text-slate-800 dark:text-white placeholder:text-slate-400 dark:placeholder:text-white/40 text-lg italic">
            
            <button id="send-btn" class="absolute right-3 top-1/2 -translate-y-1/2 bg-amber-600 text-white p-4 rounded-full hover:bg-amber-500 transition-all shadow-lg">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
            </button>
        </div>
        <p class="text-center text-[10px] text-slate-400 mt-4 uppercase tracking-widest opacity-50 italic">Tu reflexi√≥n es privada en este espejo digital</p>
    </main>

    <!-- Carga de scripts -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>